<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ganapati Electronics POS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div id="app"></div>

    <template id="auth-template"><div class="login-container"><div class="card login-card" id="auth-card"></div></div></template>
    
    <template id="app-shell-template">
        <nav class="sidebar">
            <div class="sidebar-header"><h2>Ganapati Elec.</h2></div>
            <ul class="sidebar-nav">
                <li><a href="#dashboard" class="nav-link active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="#billing" class="nav-link"><i class="fas fa-cash-register"></i> New Sale</a></li>
                <li><a href="#products" class="nav-link"><i class="fas fa-box-open"></i> Products</a></li>
                <li><a href="#customers" class="nav-link"><i class="fas fa-users"></i> Customers</a></li>
                <li><a href="#reports" class="nav-link"><i class="fas fa-chart-line"></i> Reports</a></li>
                <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </nav>
        <main class="main-content"></main>
    </template>

    <template id="dashboard-page-template"><div id="dashboard-page" class="page"><h1>Dashboard</h1><div class="grid-container four-cols"><div class="card stat-card"><h3 id="dashboard-revenue">₹0.00</h3><p>Total Revenue</p></div><div class="card stat-card"><h3 id="dashboard-sales">0</h3><p>Total Sales</p></div><div class="card stat-card"><h3 id="dashboard-low-stock">0</h3><p>Items Low on Stock</p></div><div class="card stat-card"><h3 id="dashboard-customers">0</h3><p>Total Customers</p></div></div><div class="card"><h2>Recent Sales</h2><table id="recent-sales-table"><thead><tr><th>Invoice ID</th><th>Customer</th><th>Total</th><th>Date</th></tr></thead><tbody></tbody></table></div></div></template>
    <template id="billing-page-template"><div id="billing-page" class="page"><h1>New Sale (POS)</h1><div class="grid-container" style="grid-template-columns: 2fr 1fr;"><div class="card"><h2>Add Products to Cart</h2><div class="grid-container" style="grid-template-columns: 2fr 1fr auto; align-items: flex-end;"><div class="form-group"><label>Select Product</label><select id="billing-product-select"></select></div><div class="form-group"><label>Quantity</label><input id="billing-quantity" type="number" value="1" min="1"></div><button id="add-to-cart-btn" class="primary">Add to Cart</button></div></div><div class="card"><h2>Select Customer</h2><div class="form-group"><label>Customer</label><select id="billing-customer-select"></select></div></div></div><div class="card"><h2>Cart</h2><table id="cart-items-table"><thead><tr><th>Product</th><th>Price</th><th>Qty</th><th>Total</th><th>Action</th></tr></thead><tbody></tbody></table><div class="invoice-totals"><h3>Grand Total: <strong id="grand-total">₹0.00</strong></h3><button id="finalize-sale-btn" class="success large">Finalize Sale</button></div></div></div></template>
    <template id="products-page-template"><div id="products-page" class="page"><h1>Product Management</h1><div class="card"><h2>Add New Product</h2><form id="add-product-form" class="grid-container four-cols"><div class="form-group"><label>Product Name</label><input type="text" required></div><div class="form-group"><label>Category</label><input type="text"></div><div class="form-group"><label>Price (₹)</label><input type="number" required></div><div class="form-group"><label>Stock</label><input type="number" required></div><button type="submit" class="primary">Add Product</button></form></div><div class="card"><h2>Product List</h2><table><thead><tr><th>Name</th><th>Category</th><th>Price</th><th>Stock</th><th>Actions</th></tr></thead><tbody></tbody></table></div></div></template>
    <template id="customers-page-template"><div id="customers-page" class="page"><h1>Customer Management</h1><div class="card"><h2>Add New Customer</h2><form id="add-customer-form" class="grid-container three-cols"><div class="form-group"><label>Customer Name</label><input type="text" required></div><div class="form-group"><label>Mobile Number</label><input type="tel"></div><div class="form-group"><label>Email</label><input type="email"></div><button type="submit" class="primary">Add Customer</button></form></div><div class="card"><h2>Customer List</h2><table><thead><tr><th>Name</th><th>Mobile</th><th>Email</th><th>Actions</th></tr></thead><tbody></tbody></table></div></div></template>
    <template id="reports-page-template"><div id="reports-page" class="page"><h1>Reports</h1><div class="card"><h2>Stock Report</h2><p>List of products with stock at or below 10 units.</p><ul id="low-stock-list"></ul></div></div></template>
    <div id="confirmation-modal" class="modal"><div class="modal-content card"><h2 id="modal-title">Confirm Action</h2><p id="modal-text">Are you sure?</p><div class="modal-actions"><button id="modal-cancel-btn">Cancel</button><button id="modal-confirm-btn" class="danger">Confirm</button></div></div></div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script src="script.js"></script>
</body>
</html>